<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Elecciones Argentina 2025 - Patagonian</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lato', 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #046cfc, #15294b);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .brand-logo {
            margin-bottom: 20px;
        }

        .brand-logo img {
            height: 50px;
            width: auto;
        }

        .language-selector {
            position: absolute;
            top: 30px;
            right: 30px;
            z-index: 10;
        }

        .language-selector select {
            background: white;
            border: 2px solid #046cfc;
            border-radius: 4px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            color: #046cfc;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.2s;
        }

        .language-selector select:hover {
            background: #046cfc;
            color: white;
        }

        h1 {
            color: #15294b;
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .election-date {
            color: #f1870d;
            font-weight: 600;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #046cfc;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(4, 108, 252, 0.15);
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            color: #15294b;
            font-size: 2em;
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
        }

        .chart-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .chart-title {
            color: #15294b;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #046cfc;
        }

        .bar {
            transition: opacity 0.3s;
        }

        .bar:hover {
            opacity: 0.8;
        }

        .axis text {
            font-family: 'Lato', sans-serif;
            font-size: 12px;
        }

        .axis path,
        .axis line {
            stroke: #999;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            z-index: 1000;
        }

        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .back-link {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 30px;
            background: linear-gradient(135deg, #046cfc, #0052cc);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(4, 108, 252, 0.3);
        }

        .back-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(4, 108, 252, 0.4);
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: #999;
            font-size: 0.9em;
        }

        .data-source {
            text-align: center;
            color: #999;
            font-size: 0.85em;
            margin-top: 20px;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .chart-container {
                padding: 15px;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <select onchange="window.location.href=this.value">
            <option value="/publicPages/argentina-elections-2025">English</option>
            <option value="/publicPages/elecciones-argentina-2025" selected>Espa√±ol</option>
        </select>
    </div>

    <div class="container">
        <div class="header">
            <div class="brand-logo">
                <a href="https://patagonian.com" target="_blank">
                    <img src="/publicPages/patagonian_logo_RGB_color-300x58.png" alt="Patagonian">
                </a>
            </div>
            <h1>üìä Elecciones Legislativas Argentina 2025</h1>
            <p class="subtitle">An√°lisis de Datos y Resultados</p>
            <p class="election-date">26 de Octubre de 2025</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Ciudadanos Habilitados</div>
                <div class="stat-value">36.5M</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Participaci√≥n</div>
                <div class="stat-value">67.89%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Diputados Electos</div>
                <div class="stat-value">127</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Senadores Electos</div>
                <div class="stat-value">24</div>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Resultados Nacionales</h2>
            <div id="national-results"></div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Provincia de Buenos Aires</h2>
            <div id="buenos-aires-results"></div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Distribuci√≥n de Bancas - Buenos Aires</h2>
            <div id="seats-distribution"></div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Participaci√≥n Electoral (1983-2025)</h2>
            <div id="participation-history"></div>
        </div>

        <div class="data-source">
            Fuente: C√°mara Nacional Electoral - Datos oficiales de escrutinio provisional
        </div>

        <div style="text-align: center;">
            <a href="/publicPages/index-es" class="back-link">‚Üê Volver al Inicio</a>
        </div>

        <div class="footer">
            ¬© Patagonian | <a href="https://patagonian.com" target="_blank" style="color: #046cfc; text-decoration: none;">patagonian.com</a>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Data
        const nationalResults = [
            { party: 'La Libertad Avanza', votes: 40.84, color: '#9b59b6' },
            { party: 'Fuerza Patria', votes: 24.50, color: '#3498db' },
            { party: 'Frente de Izquierda', votes: 5.03, color: '#e74c3c' },
            { party: 'Otros', votes: 29.63, color: '#95a5a6' }
        ];

        const buenosAiresResults = [
            { party: 'La Libertad Avanza', votes: 41.45, color: '#9b59b6' },
            { party: 'Fuerza Patria', votes: 40.91, color: '#3498db' },
            { party: 'Frente de Izquierda', votes: 5.12, color: '#e74c3c' },
            { party: 'Otros', votes: 12.52, color: '#95a5a6' }
        ];

        const seatsData = [
            { party: 'La Libertad Avanza', seats: 17, color: '#9b59b6' },
            { party: 'Fuerza Patria', seats: 16, color: '#3498db' },
            { party: 'Frente de Izquierda', seats: 2, color: '#e74c3c' }
        ];

        const participationHistory = [
            { year: 1983, participation: 85.60 },
            { year: 1985, participation: 83.90 },
            { year: 1987, participation: 83.20 },
            { year: 1989, participation: 85.50 },
            { year: 1991, participation: 80.20 },
            { year: 1993, participation: 80.50 },
            { year: 1995, participation: 82.10 },
            { year: 1997, participation: 81.30 },
            { year: 1999, participation: 81.80 },
            { year: 2001, participation: 75.40 },
            { year: 2003, participation: 78.20 },
            { year: 2005, participation: 76.10 },
            { year: 2007, participation: 76.30 },
            { year: 2009, participation: 75.60 },
            { year: 2011, participation: 79.40 },
            { year: 2013, participation: 78.50 },
            { year: 2015, participation: 81.00 },
            { year: 2017, participation: 76.30 },
            { year: 2019, participation: 80.80 },
            { year: 2021, participation: 71.50 },
            { year: 2023, participation: 77.20 },
            { year: 2025, participation: 67.89 }
        ];

        // Tooltip
        const tooltip = d3.select('#tooltip');

        // Function to create bar chart
        function createBarChart(containerId, data, width = 800, height = 400) {
            const margin = { top: 20, right: 30, bottom: 60, left: 60 };
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;

            const svg = d3.select(containerId)
                .append('svg')
                .attr('width', '100%')
                .attr('height', height)
                .attr('viewBox', `0 0 ${width} ${height}`)
                .append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(data.map(d => d.party))
                .range([0, chartWidth])
                .padding(0.3);

            const y = d3.scaleLinear()
                .domain([0, d3.max(data, d => d.votes)])
                .nice()
                .range([chartHeight, 0]);

            // X Axis
            svg.append('g')
                .attr('class', 'axis')
                .attr('transform', `translate(0,${chartHeight})`)
                .call(d3.axisBottom(x))
                .selectAll('text')
                .style('text-anchor', 'end')
                .attr('dx', '-.8em')
                .attr('dy', '.15em')
                .attr('transform', 'rotate(-35)');

            // Y Axis
            svg.append('g')
                .attr('class', 'axis')
                .call(d3.axisLeft(y).ticks(10).tickFormat(d => d + '%'));

            // Bars
            svg.selectAll('.bar')
                .data(data)
                .enter()
                .append('rect')
                .attr('class', 'bar')
                .attr('x', d => x(d.party))
                .attr('y', chartHeight)
                .attr('width', x.bandwidth())
                .attr('height', 0)
                .attr('fill', d => d.color)
                .on('mouseover', function(event, d) {
                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${d.party}</strong><br>${d.votes}% de los votos`)
                        .style('left', (event.pageX + 10) + 'px')
                        .style('top', (event.pageY - 28) + 'px');
                })
                .on('mouseout', function() {
                    tooltip.style('opacity', 0);
                })
                .transition()
                .duration(1000)
                .attr('y', d => y(d.votes))
                .attr('height', d => chartHeight - y(d.votes));

            // Value labels on bars
            svg.selectAll('.label')
                .data(data)
                .enter()
                .append('text')
                .attr('class', 'label')
                .attr('x', d => x(d.party) + x.bandwidth() / 2)
                .attr('y', d => y(d.votes) - 5)
                .attr('text-anchor', 'middle')
                .style('font-weight', 'bold')
                .style('fill', '#15294b')
                .text(d => d.votes + '%')
                .style('opacity', 0)
                .transition()
                .delay(1000)
                .duration(500)
                .style('opacity', 1);
        }

        // Function to create pie chart for seats
        function createPieChart(containerId, data, width = 500, height = 400) {
            const radius = Math.min(width, height) / 2 - 40;

            const svg = d3.select(containerId)
                .append('svg')
                .attr('width', '100%')
                .attr('height', height)
                .attr('viewBox', `0 0 ${width} ${height}`)
                .append('g')
                .attr('transform', `translate(${width/2},${height/2})`);

            const pie = d3.pie()
                .value(d => d.seats)
                .sort(null);

            const arc = d3.arc()
                .innerRadius(radius * 0.5)
                .outerRadius(radius);

            const arcs = svg.selectAll('arc')
                .data(pie(data))
                .enter()
                .append('g');

            arcs.append('path')
                .attr('fill', d => d.data.color)
                .attr('stroke', 'white')
                .style('stroke-width', '3px')
                .on('mouseover', function(event, d) {
                    d3.select(this).transition()
                        .duration(200)
                        .attr('transform', 'scale(1.05)');

                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${d.data.party}</strong><br>${d.data.seats} bancas (${((d.data.seats/35)*100).toFixed(1)}%)`)
                        .style('left', (event.pageX + 10) + 'px')
                        .style('top', (event.pageY - 28) + 'px');
                })
                .on('mouseout', function() {
                    d3.select(this).transition()
                        .duration(200)
                        .attr('transform', 'scale(1)');

                    tooltip.style('opacity', 0);
                })
                .transition()
                .duration(1000)
                .attrTween('d', function(d) {
                    const i = d3.interpolate({ startAngle: 0, endAngle: 0 }, d);
                    return function(t) { return arc(i(t)); };
                });

            arcs.append('text')
                .attr('transform', d => `translate(${arc.centroid(d)})`)
                .attr('text-anchor', 'middle')
                .style('font-size', '18px')
                .style('font-weight', 'bold')
                .style('fill', 'white')
                .text(d => d.data.seats)
                .style('opacity', 0)
                .transition()
                .delay(1000)
                .duration(500)
                .style('opacity', 1);

            // Legend
            const legend = d3.select(containerId)
                .append('div')
                .attr('class', 'legend');

            data.forEach(d => {
                const item = legend.append('div')
                    .attr('class', 'legend-item');

                item.append('div')
                    .attr('class', 'legend-color')
                    .style('background-color', d.color);

                item.append('span')
                    .text(`${d.party} (${d.seats} bancas)`);
            });
        }

        // Function to create line chart
        function createLineChart(containerId, data, width = 800, height = 400) {
            const margin = { top: 20, right: 30, bottom: 60, left: 60 };
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;

            const svg = d3.select(containerId)
                .append('svg')
                .attr('width', '100%')
                .attr('height', height)
                .attr('viewBox', `0 0 ${width} ${height}`)
                .append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleLinear()
                .domain(d3.extent(data, d => d.year))
                .range([0, chartWidth]);

            const y = d3.scaleLinear()
                .domain([60, 90])
                .range([chartHeight, 0]);

            // X Axis
            svg.append('g')
                .attr('class', 'axis')
                .attr('transform', `translate(0,${chartHeight})`)
                .call(d3.axisBottom(x).tickFormat(d3.format('d')).ticks(15))
                .selectAll('text')
                .style('text-anchor', 'end')
                .attr('dx', '-.8em')
                .attr('dy', '.15em')
                .attr('transform', 'rotate(-45)');

            // Y Axis
            svg.append('g')
                .attr('class', 'axis')
                .call(d3.axisLeft(y).tickFormat(d => d + '%'));

            // Line
            const line = d3.line()
                .x(d => x(d.year))
                .y(d => y(d.participation))
                .curve(d3.curveMonotoneX);

            const path = svg.append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', '#046cfc')
                .attr('stroke-width', 3)
                .attr('d', line);

            const pathLength = path.node().getTotalLength();

            path
                .attr('stroke-dasharray', pathLength + ' ' + pathLength)
                .attr('stroke-dashoffset', pathLength)
                .transition()
                .duration(2000)
                .ease(d3.easeLinear)
                .attr('stroke-dashoffset', 0);

            // Points
            svg.selectAll('.dot')
                .data(data)
                .enter()
                .append('circle')
                .attr('class', 'dot')
                .attr('cx', d => x(d.year))
                .attr('cy', d => y(d.participation))
                .attr('r', 0)
                .attr('fill', d => d.year === 2025 ? '#f1870d' : '#046cfc')
                .on('mouseover', function(event, d) {
                    d3.select(this).transition()
                        .duration(200)
                        .attr('r', 8);

                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${d.year}</strong><br>Participaci√≥n: ${d.participation}%`)
                        .style('left', (event.pageX + 10) + 'px')
                        .style('top', (event.pageY - 28) + 'px');
                })
                .on('mouseout', function(event, d) {
                    d3.select(this).transition()
                        .duration(200)
                        .attr('r', d.year === 2025 ? 6 : 4);

                    tooltip.style('opacity', 0);
                })
                .transition()
                .delay((d, i) => i * 50 + 2000)
                .duration(300)
                .attr('r', d => d.year === 2025 ? 6 : 4);

            // Highlight 2025
            svg.append('line')
                .attr('x1', x(2025))
                .attr('x2', x(2025))
                .attr('y1', 0)
                .attr('y2', chartHeight)
                .attr('stroke', '#f1870d')
                .attr('stroke-width', 2)
                .attr('stroke-dasharray', '5,5')
                .style('opacity', 0)
                .transition()
                .delay(2000)
                .duration(500)
                .style('opacity', 0.5);

            svg.append('text')
                .attr('x', x(2025))
                .attr('y', -5)
                .attr('text-anchor', 'middle')
                .style('fill', '#f1870d')
                .style('font-weight', 'bold')
                .text('M√°s baja en 40 a√±os')
                .style('opacity', 0)
                .transition()
                .delay(2500)
                .duration(500)
                .style('opacity', 1);
        }

        // Create all charts
        createBarChart('#national-results', nationalResults);
        createBarChart('#buenos-aires-results', buenosAiresResults);
        createPieChart('#seats-distribution', seatsData);
        createLineChart('#participation-history', participationHistory);
    </script>
</body>
</html>
