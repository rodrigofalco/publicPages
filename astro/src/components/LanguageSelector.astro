---
interface Props {
  currentLang: 'en' | 'es';
  enUrl?: string;
  esUrl?: string;
}

const baseUrl = import.meta.env.BASE_URL;
const { currentLang, enUrl = '/', esUrl = '/index-es' } = Astro.props;

// Prepend base URL to paths
const fullEnUrl = enUrl.startsWith('http') ? enUrl : `${baseUrl}${enUrl}`.replace('//', '/');
const fullEsUrl = esUrl.startsWith('http') ? esUrl : `${baseUrl}${esUrl}`.replace('//', '/');
---

<div class="language-selector">
    <select onchange="window.location.href=this.value">
        <option value={fullEnUrl} selected={currentLang === 'en'}>English</option>
        <option value={fullEsUrl} selected={currentLang === 'es'}>Espa√±ol</option>
    </select>
</div>

<style>
    .language-selector {
        position: absolute;
        top: 30px;
        right: 30px;
        z-index: 10;
    }

    .language-selector select {
        background: white;
        border: 2px solid #046cfc;
        border-radius: 4px;
        padding: 8px 16px;
        cursor: pointer;
        font-size: 14px;
        color: #046cfc;
        font-weight: 600;
        font-family: 'Montserrat', sans-serif;
        transition: all 0.2s;
    }

    .language-selector select:hover {
        background: #046cfc;
        color: white;
    }
</style>
